Transferring solutions found by trajectory optimization to robotic hardware remains a challenging
task. When the optimization fully exploits the provided model to perform dynamic tasks, the presence
of unmodeled dynamics renders the motion infeasible on the real system. Model errors can be a result
of model simplifications, but also naturally arise when deploying the robot in unstructured and
nondeterministic environments. Predominantly, compliant contacts and actuator dynamics lead
to bandwidth limitations. Bandwidth limits arising from compliant contacts and actuator dynamics
tend to occur at high frequencies. While classical control methods provide tools to synthesize
controllers that are robust to a class of model errors, such a notion is missing in modern trajectory
optimization, which is solved in the time domain. We propose frequency-shaped cost functions to
achieve robust solutions in the context of optimal control for legged robots. Through simulation
and hardware experiments we show that motion plans can be made compatible with bandwidth limits
set by actuators and contact dynamics. The smoothness of the model predictive solutions can be continuously
tuned without compromising the feasibility of the problem. Experiments with the quadrupedal robot
ANYmal, which is driven by high-compliant series elastic actuators, showed significantly better
tracking performance of the planned motion, torque, and force trajectories and enabled the machine
to walk robustly on ground with unmodeled compliance. 