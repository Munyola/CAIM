Forensic analysis of digital photographs relies on intrinsic statistical traces introduced at
the time of their acquisition or subsequent editing. Such traces are often removed by post-processing
(e.g., down-sampling and re-compression applied upon distribution in the Web) which inhibits
reliable provenance analysis. Increasing adoption of computational methods within digital cameras
further complicates the process and renders explicit mathematical modeling infeasible. While
this trend challenges forensic analysis even in near-acquisition conditions, it also creates
new opportunities. This paper explores end-to-end optimization of the entire image acquisition
and distribution workflow to facilitate reliable forensic analysis at the end of the distribution
channel, where state-of-the-art forensic techniques fail. We demonstrate that a neural network
can be trained to replace the entire photo development pipeline, and jointly optimized for high-fidelity
photo rendering and reliable provenance analysis. Such optimized neural imaging pipeline allowed
us to increase image manipulation detection accuracy from approx. 45% to over 90%. The network learns
to introduce carefully crafted artifacts, akin to digital watermarks, which facilitate subsequent
manipulation detection. Analysis of performance trade-offs indicates that most of the gains can
be obtained with only minor distortion. The findings encourage further research towards building
more reliable imaging pipelines with explicit provenance-guaranteeing properties. 