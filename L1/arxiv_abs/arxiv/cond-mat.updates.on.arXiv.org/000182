We present a general scheme based on nonlinear response theory to calculate the expansion of correlation
functions such as the pair-correlation function or the exchange-correlation hole of an inhomogeneous
many-particle system in terms of density derivatives of arbitrary order. We further derive a consistency
condition that is necessary for the existence of the gradient expansion. This condition is used
to carry out an infinite summation of terms involving response functions up to infinite order from
which it follows that the coefficient functions of the gradient expansion can be expressed in terms
the local density profile rather than the background density around which the expansion is carried
out. We apply the method to the calculation of the gradient expansion of the one-particle density
matrix to second order in the density gradients and recover in an alternative manner the result of
Gross and Dreizler (Z. Phys. A 302, 103 (1981)) which was derived using the Kirzhnits method. The
nonlinear response method is more general and avoids the turning point problem of the Kirzhnits
expansion. We further give a description of the exchange hole in momentum space and confirm the wave
vector analysis of Langreth and Perdew (Phys. Rev. B21, 5469 (1980)) for this case. This is used to
derive that the second order gradient expansion of the system averaged exchange hole satisfies
the hole sum rule and to calculate the gradient coefficient of the exchange energy without the need
to regularize divergent integrals. 