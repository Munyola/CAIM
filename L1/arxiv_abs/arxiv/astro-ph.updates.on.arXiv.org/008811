We use a hybrid observational/theoretical approach to study the relation between galaxy kinematics
and the derived stellar and halo masses of galaxies up to z=3 as a function of stellar mass, redshift
and morphology. Our observational sample consists of a concatenation of 1125 galaxies with kinematic
measurements at 0.4<z<3 from long-slit and integral-field studies. We investigate several ways
to measure halo masses from observations based on results from semi-analytical models, showing
that galaxy halo masses can be retrieved with a scatter of ~0.4 dex by using only stellar masses. We
discover a third parameter, relating to the time of the formation of the halo, which reduces the scatter
in the relation between the stellar and halo masses, such that systems forming earlier have a higher
stellar mass to halo mass ratio, which we also find observationally. We find that this scatter correlates
with morphology, such that early-type, or older stellar systems, have higher M_*/M_halo ratios.
We furthermore show using this approach, and through weak lensing and abundance matching, that
the ratio of stellar to halo mass does not significantly evolve with redshift at 1<z<3. This is evidence
for the regulated hierarchical assembly of galaxies such that the ratio of stellar to dark matter
mass remains approximately constant since $z = 2$. We use these results to show that the dark matter
accretion rate evolves from $dM_{\rm halo}/d{\rm t} \sim 4000$ M_solar year$^{-1}$ at $z \sim 2.5$,
to a few 100 M_solar year$^{-1}$ by $z \sim 0.5$. 