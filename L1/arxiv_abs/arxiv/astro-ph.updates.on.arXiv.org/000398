In this paper, we develop a spectral differential technique with which the dynamical mass of low-mass
companions can be found. This method aims at discovering close companions to late-type stars by
removing the stellar spectrum through a subtraction of spectra obtained at different orbital phases
and discovering the companion spectrum in the difference spectrum in which the companion lines
appear twice (positive and negative signal). The resulting radial velocity difference of these
two signals provides the true mass of the companion, if the orbital solution for the radial velocities
of the primary is known. We select the CO line region in the K-band for our study, because it provides
a favourable star-to-companion brightness ratio for our test case GJ1046, an M2V dwarf with a low-mass
companion that most likely is a brown dwarf. Furthermore, these lines remain largely unblended
in the difference spectrum so that the radial velocity amplitude of the companion can be measured
directly. Only if the companion rotates rapidly and has a small radial velocity due to a high mass,
does blending occur for all lines so that our approach fails. We also consider activity of the host
star, and show that the companion difference flux can be expected to have larger amplitude than the
residual signal from the active star so that stellar activity does not inhibit the determination
of the companion mass. In addition to determining the companion mass, we restore the single companion
spectrum from the difference spectrum using singular value decomposition. 