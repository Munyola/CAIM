Multicomponent dark matter with self-interactions, which allows for inter-conversions of species
into one another, is a promising paradigm that is known to successfully and simultaneously resolve
major problems of the conventional $\Lambda$CDM cosmology at galactic and sub-galactic scales.
In this paper, we present $N$-body simulations of the simplest two-component (2cDM) model aimed
at studying the distribution of dark matter halos with masses $M\lesssim10^{12}M_\odot$. In particular,
we investigate how the maximum circular velocity function of the halos is affected by the velocity
dependence of the self-interaction cross-sections, $\sigma(v)\propto v^a$, and compare them
with available observational data. The results demonstrate that the 2cDM paradigm with the range
of self-interaction cross-section per particle mass (evaluated at $v=100$ km s$^{-1}$) of $0.01\lesssim
\sigma_0/m\lesssim 1 $ cm$^2$g$^{-1}$ and the mass degeneracy $\Delta m/m\sim 10^{-7}-10^{-8}$
is robustly resolving the substructure and too-big-to-fail problems by suppressing the substructure
having small maximum circular velocities, $V_{\rm max}\lesssim100$ km s$^{-1}$. We also discuss
the disagreement between the radial distribution of dwarfs in a host halo observed in the Local Group
and simulated with CDM. This can be considered as one more small-scale problem of CDM. We demonstrate
that such a disagreement is alleviated in 2cDM. Finally, the computed matter power-spectra of the
2cDM structure indicate the model's consistency with the existing Ly-$\alpha$ forest constraints.
