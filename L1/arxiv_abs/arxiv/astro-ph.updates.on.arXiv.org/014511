Stars with $\sim 8-10~{M}_{\odot}$ evolve to form a strongly degenerate ONeMg core. When the core
mass becomes close to the Chandrasekhar mass, the core undergoes electron captures on $^{24}$Mg
and $^{20}$Ne, which induce the electron-capture supernova (ECSN). In order to clarify whether
the ECSN leads to a collapse or thermonuclear explosion, we calculate the evolution of an $8.4~M_\odot$
star from the main sequence until the oxygen ignition in the ONeMg core. We apply the latest electron-capture
rate on $^{20}$Ne including the second forbidden transition, and investigate how the location
of the oxygen ignition (center or off-center) and the $Y_e$ distribution depend on the input physics
and the treatment of the semiconvection and convection. The central density when the oxygen deflagration
is initiated, $\rho_{\rm c,def}$, can be significantly higher than that of the oxygen ignition
thanks to the convection, and we estimate $\log_{10}(\rho_{\rm c,def}/\mathrm{g~cm^{-3}})>10.10$.
We perform two-dimensional simulations of the flame propagation to examine how the final fate of
the ONeMg core depends on the $Y_e$ distribution and $\rho_{\rm c,def}$. We find that the deflagration
starting from $\log_{10}(\rho_{\rm c,def}/\mathrm{g~cm^{-3}})>10.01 (< 10.01)$ leads to a
collapse (thermonuclear explosion). Since our estimate of $\rho_{\rm c,def}$ exceeds this critical
value, the ONeMg core is likely to collapse, although further studies of the convection and semiconvection
before the deflagration are important. 