Master equation is a powerful tool for studying McKean-Vlasov dynamics where the distribution
of the state process enters the coefficients directly, with particular applications including
mean field games and stochastic control problems with partial information. In this paper we propose
an intrinsic notion of viscosity solution for parabolic master equations, arising mainly from
control problems, and establish its wellposedness. In particular we prove the comparison principle
in some special cases, which seems new in the literature. Our main innovation is to restrict the involved
measures to certain set of semimartingale measures which satisfies the desired compactness. As
an important example, we study the HJB master equation associated with the control problems for
McKean-Vlasov SDEs. Due to practical considerations, we consider closed-loop controls. It turns
out that the regularity of the value function becomes much more involved in this framework than the
counterpart in the standard control problems. Finally, we build the whole theory in the path dependent
setting, which is often seen in applications. The main result in this part is an extension of Dupire
\cite{Dupire}'s functional It\^{o} formula. This It\^{o} formula requires a special structure
of the Wasserstein derivatives, which was originally due to Lions \cite{Lions4} in the state dependent
case. We provided an elementary proof for this well known result in the short note \cite{WZ}, and
the same arguments work in the path dependent setting. 