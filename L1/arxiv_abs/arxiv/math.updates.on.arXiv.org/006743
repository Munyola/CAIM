Truck platooning is a technology that is expected to become widespread in the coming years. Apart
from the numerous benefits that it brings, its potential effects on the overall traffic situation
needs to be studied further, especially at bottlenecks and ramps. However, assuming we can control
the truck platoons from the infrastructure, they can be used as controlled moving bottlenecks,
actuating control actions on the rest of the traffic. Thus properly controlled platoons can possibly
improve the efficiency and throughput of the whole system. In this paper, we use a multi-class cell
transmission model to capture the interaction between truck platoons and background traffic,
and propose a corresponding queuing model, which we use for control design. As control inputs, we
use platoon speeds, and the number of lanes platoons occupy, and we devise a control strategy for
throughput improvement. This control law is applied on a highway section upstream of a bottleneck,
with one on-ramp and one off-ramp. By postponing and shaping the inflow to the bottleneck, we are
able to keep it in free flow, avoiding traffic breakdown and capacity drop, leading to significant
reduction of total time spent of all vehicles. We tested the proposed control in a simulation study
and found that by applying, we reduce the median delay of all vehicles by 75.6%. Notably, although
they are slowed down while actuating control actions, platoons experience less delay compared
to the case without control, since they avoid going through congestion at the bottleneck. 