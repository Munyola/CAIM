Data-driven transformations that reformulate nonlinear systems in a linear framework have the
potential to enable the prediction, estimation, and control of strongly nonlinear dynamics using
standard linear systems theory. The Koopman operator has emerged as a principled linear embedding
of nonlinear dynamics, and its eigenfunctions establish intrinsic coordinates along which the
dynamics behave linearly. In this work, we demonstrate a data-driven control architecture, termed
Koopman Reduced Order Nonlinear Identification and Control (KRONIC), that utilizes Koopman eigenfunctions
to manipulate nonlinear systems using linear systems theory. We approximate these eigenfunctions
with data-driven regression and power series expansions, based on the partial differential equation
governing the infinitesimal generator of the Koopman operator. Although previous regression-based
methods have been plagued by spurious dynamics, we show that lightly damped eigenfunctions may
be faithfully extracted using sparse regression. These lightly damped eigenfunctions are particularly
relevant for control, as they correspond to nearly conserved quantities that are associated with
persistent dynamics, such as the Hamiltonian. We derive the form of control in these intrinsic eigenfunction
coordinates and design nonlinear controllers using standard linear optimal control theory. KRONIC
is then demonstrated on a number of relevant examples, including 1) a nonlinear system with a known
linear embedding, 2) a variety of Hamiltonian systems, and 3) a high-dimensional double-gyre model
for ocean mixing. 